{"version":3,"sources":["days/helper.ts","days/types.ts","lib/scan.worker.ts","lib/helper.ts","lib/matrix.ts","days/index.ts","days/Loading/frames/frame_000.jpg","days/Loading/frames/frame_001.jpg","days/Loading/frames/frame_002.jpg","days/Loading/frames/frame_003.jpg","days/Loading/frames/frame_004.jpg","days/Loading/frames/frame_005.jpg","days/Loading/frames/frame_006.jpg","days/Loading/frames/frame_007.jpg","days/Loading/frames/frame_008.jpg","days/Loading/index.ts","lib/scanner.ts","views/Scanner/index.tsx","views/Codes/index.tsx","views/Open/index.tsx","App.tsx","index.tsx"],"names":["loadImage","Bottleneck","maxConcurrent","wrap","path","Promise","resolve","image","Image","onload","src","Day","Error","__hash","__name","__qrCode","__content","addMethods","methods","module","exports","w","Worker","name","cf_childRatio","cf_parentRatio","cf_width","cf_height","cf_x","cf_y","cache","Map","coverFit","dw","dh","sw","sh","get","set","h","x","y","rr_halfRadians","Math","PI","rr_quarterRadians","adj","m","multmm","a","b","c","i","j","cij","k","basisToPoints","x1","y1","x2","y2","x3","y3","x4","y4","v","multmv","transform2d","t","x1s","y1s","x1d","y1d","x2s","y2s","x2d","y2d","x3s","y3s","x3d","y3d","x4s","y4s","x4d","y4d","s","d","general2DProjection","days","fHNZeWchkGKUfivVIpFKCcc","gaHDJBYRASaLbqWkwMvbsXG","egbwEnoMPzhhXBJVFtbPRPf","arnPcOYZoBlcnPvwMxyaWAB","cNZiZqMzbruoGEaLdZukHRE","fkTkryMTucrSfMJgAMgoKyy","dRxyCvcYSEHGLzYbaoroBkR","WDTyERMkvMQgjOfylYJSKQ0","boBGBeTyndHXQtqmuhSkaqT","bLhuLNOXkWjFAhijDXwMLpD","cSgBdyDTqhDlDaZlrCLCOTU","dRWZcRmwTJmgLMYywqziEyO","fDzejmzXQGYVITUknsduQzs","aaeAQIWwTvInTnFLmeZZlEf","bCHmiuiffKmgjtuEFYXzfSo","fgJUESWuWJGueeIUKeBPIHw","aopaQadOXXxQCuTralQvPdy","bLVuBAZVNTXTREleTsZgiAe","flfqPRivgpFRSRMlBlbPUqT","dNRmPNUYRfQByRaWoOYhfWt","fQBPQtKxBrFtIhsgzCHvRbW","caIoyQpUbcGNdXQYCjTdOLP","cbrPCzAJhpEyFTnobdsNCaq","aiDjqteQNhVBRLiHceCSRIO","crFoJPqGrYmMsvazSwzYqEC","daysData","Loading","undefined","frames","loadFrames","all","framesPromises","now","Date","last","fps","currentFrame","length","eJsKUTRcYSEFfABxBJrzKKe","fjDvshmAAVOOTRvytkckAkN","dyTQucXIPtHdBvmOnYBiKIY","fyygFoXLlHJQreuoXZuNDhe","vcTESVVbbPgeVyPxyEdnaA0","eSccGUyFGTpwJpNPfQUBnUL","cbRUgnbjsZINRtRKOheHqOZ","dLZzKoXJhsWJSUYjRVVGaYr","dPnajTNsSFWYIZPtpwSbWnG","Scanner","canvas","document","createElement","getContext","init","stopped","getStream","navigator","mediaDevices","getUserMedia","video","facingMode","ideal","audio","stream","srcObject","play","window","addEventListener","resize","drawVideo","scan","removeEventListener","getTracks","forEach","stop","currentDay","currentDayImport","setDay","symbol","elapsed","thenVideo","requestAnimationFrame","fpsVideo","contextVideo","contextOverlay","videoWidth","videoHeight","width","height","drawImage","scanX","scanY","strokeStyle","lineWidth","beginPath","ctx","r","arc","lineTo","roundedRectangle","stroke","points","map","p","caW","caH","matrix","style","opacity","transform","join","frame","getFrame","innerWidth","innerHeight","props","canvasVideo","canvasOverlay","failCounter","decoder","TextDecoder","updateDay","dataString","decode","data","newDayImport","isNewDay","then","dayImport","NewDay","default","sleep","resetDay","doScan","thenScanner","fpsScanner","scanImage","getImageData","scanWorker","symbols","createScanWorker","ms","setTimeout","styleCanvasVideo","css","styleCanvasOverlay","styleClicker","history","useHistory","canvasVideoRef","useRef","canvasOverlayRef","useState","day","useEffect","current","start","bind","useScanner","className","onClick","push","ref","RenderDay","dayData","qrCodeUri","setQrCodeUri","codeUri","to","alt","styleDayssContainer","Codes","styleOverlay","styleOverlayLeft","styleOverlayRight","styleDaysContainer","styleBackLink","styleContentContainer","styleContent","Open","content","setContent","useParams","loadDay","$Day","goBack","dangerouslySetInnerHTML","__html","fixVxDimensions","vw","max","documentElement","clientWidth","vh","clientHeight","setProperty","App","basename","component","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c6c7713a.chunk.js","sourcesContent":["import Bottleneck from 'bottleneck';\n\nconst limiter = new Bottleneck({\n  maxConcurrent: 5,\n});\n\nconst $loadImage = (path: string) => (\n  new Promise<HTMLImageElement>((resolve) => {\n    const image = new Image();\n\n    image.onload = () => resolve(image);\n    image.src = path;\n  })\n);\n\nexport const loadImage = limiter.wrap($loadImage);\n","export type DayImport = Promise<{ default: typeof Day }>;\nexport type Days = { [key: string]: () => DayImport };\n\nexport type DaysData = DayData[];\nexport type DayData = {\n  __hash: string;\n  __name: string;\n  __qrCode: () => Promise<{ default: string }>;\n};\n\nexport class Day {\n  public static __hash: string;\n  public static __name: string;\n  public static __qrCode: string;\n  public static __content: () => Promise<string>;\n\n  public static init(): Promise<void> { throw new Error(\"not implemented\") }\n  public static getFrame(): HTMLImageElement { throw new Error(\"not implemented\") }\n}\n","\n\t\t\t\tvar addMethods = require(\"../../node_modules/workerize-loader/dist/rpc-wrapper.js\")\n\t\t\t\tvar methods = [\"scan\"]\n\t\t\t\tmodule.exports = function() {\n\t\t\t\t\tvar w = new Worker(__webpack_public_path__ + \"5630ecd3a532fcfb1ebc.worker.js\", { name: \"[hash].worker.js\" })\n\t\t\t\t\taddMethods(w, methods)\n\t\t\t\t\t\n\t\t\t\t\treturn w\n\t\t\t\t}\n\t\t\t","\nexport type FitObject = { w: number; h: number; x: number; y: number }\ntype Fit = (dw: number, dh: number, sw: number, sh: number) => FitObject;\n\nconst cache = new Map<string, number>();\n\nlet cf_childRatio: number;\nlet cf_parentRatio: number;\n\nlet cf_width: number;\nlet cf_height: number;\n\nlet cf_x: number;\nlet cf_y: number;\n\nexport const coverFit: Fit = (\n  (dw, dh, sw, sh) => {\n    cf_childRatio = (\n      cache.get(`${dw}/${dh}`)\n        ?? cache.set(`${dw}/${dh}`, dw / dh).get(`${dw}/${dh}`)\n        ?? 0\n    );\n\n    cf_parentRatio = (\n      cache.get(`${sw}/${sh}`)\n        ?? cache.set(`${sw}/${sh}`, sw / sh).get(`${sw}/${sh}`)\n        ?? 0\n    );\n  \n    cf_width = sw;\n    cf_height = sh;\n  \n    if (cf_childRatio < cf_parentRatio) {\n      cf_height = (\n        cache.get(`${cf_width}/${cf_childRatio}`)\n          ?? cache.set(`${cf_width}/${cf_childRatio}`, cf_width / cf_childRatio).get(`${cf_width}/${cf_childRatio}`)\n          ?? 0\n      );\n    } else {\n      cf_width = (\n        cache.get(`${cf_height}*${cf_childRatio}`)\n          ?? cache.set(`${cf_height}*${cf_childRatio}`, cf_height * cf_childRatio).get(`${cf_height}*${cf_childRatio}`)\n          ?? 0\n      );\n    }\n\n    cf_x = (\n      cache.get(`${sw}-${cf_width}/2`)\n        ?? cache.set(`${sw}-${cf_width}/2`, (sw - cf_width) / 2).get(`${sw}-${cf_width}/2`)\n        ?? 0\n    );\n\n    cf_y = (\n      cache.get(`${sh}-${cf_height}/2`)\n        ?? cache.set(`${sh}-${cf_height}/2`, (sh - cf_height) / 2).get(`${sh}-${cf_height}/2`)\n        ?? 0\n    );    \n  \n    return {\n      w: cf_width,\n      h: cf_height,\n      x: cf_x,\n      y: cf_y,\n    };\n  }\n);\n\ntype RRProps = { x: number; y: number; w: number; h: number; r: number }\ntype RoundedRectangle = (ctx: CanvasRenderingContext2D, props: RRProps) => void;\n\nconst rr_halfRadians = (2 * Math.PI) / 2;\nconst rr_quarterRadians = (2 * Math.PI) / 4;  \n\nexport const roundedRectangle: RoundedRectangle = (\n  (ctx: CanvasRenderingContext2D, { x, y, w, h, r }) => {    \n    ctx.arc(r + x, r + y, r, -rr_quarterRadians, rr_halfRadians, true);\n    ctx.lineTo(x, y + h - r);\n    ctx.arc(r + x, h - r + y, r, rr_halfRadians, rr_quarterRadians, true);\n    ctx.lineTo(x + w - r, y + h);\n    ctx.arc(x + w - r, y + h - r, r, rr_quarterRadians, 0, true);\n    ctx.lineTo(x + w, y + r);\n    ctx.arc(x + w - r, y + r, r, 0, -rr_quarterRadians, true);\n    ctx.lineTo(x + r, y);\n  }\n)\n","type Matrix3_3 = [\n  number, number, number,\n  number, number, number,\n  number, number, number,\n];\n\ntype Matrix4_4 = [\n  number, number, number, number,\n  number, number, number, number,\n  number, number, number, number,\n  number, number, number, number,\n];\n\ntype Vector3 = [number, number, number]\n\n// Compute the adjugate of m\ntype Adj = ( matrix: Matrix3_3) => Matrix3_3;\nconst adj: Adj = (\n  (m) => [\n    m[4]*m[8]-m[5]*m[7], m[2]*m[7]-m[1]*m[8], m[1]*m[5]-m[2]*m[4],\n    m[5]*m[6]-m[3]*m[8], m[0]*m[8]-m[2]*m[6], m[2]*m[3]-m[0]*m[5],\n    m[3]*m[7]-m[4]*m[6], m[1]*m[6]-m[0]*m[7], m[0]*m[4]-m[1]*m[3],\n  ]\n)\n\n// multiply two matrices\ntype MultMM = (a: Matrix3_3, b: Matrix3_3) => Matrix3_3;\nconst multmm: MultMM = (a, b) => {\n  let c: Matrix3_3 = [0, 0, 0, 0, 0, 0, 0, 0, 0];\n\n  for (let i = 0; i !== 3; ++i) {\n    for (let j = 0; j !== 3; ++j) {\n      let cij = 0;\n\n      for (let k = 0; k !== 3; ++k) {\n        cij += a[3*i + k]*b[3*k + j];\n      }\n\n      c[3*i + j] = cij;\n    }\n  }\n\n  return c;\n}\n\n// multiply matrix and vector\ntype MultMV = (m: Matrix3_3, v: Vector3) => Vector3;\nconst multmv: MultMV = (\n  (m, v) => [\n    m[0]*v[0] + m[1]*v[1] + m[2]*v[2],\n    m[3]*v[0] + m[4]*v[1] + m[5]*v[2],\n    m[6]*v[0] + m[7]*v[1] + m[8]*v[2]\n  ]\n);\n\n// multiply matrix and vector\ntype BasisToPoints = (\n  x1: number, y1: number,\n  x2: number, y2: number,\n  x3: number, y3: number,\n  x4: number, y4: number,\n) => Matrix3_3;\n\nconst basisToPoints: BasisToPoints = (\n  (x1, y1, x2, y2, x3, y3, x4, y4) => {\n    const m: Matrix3_3 = [\n      x1, x2, x3,\n      y1, y2, y3,\n       1,  1,  1\n    ];\n\n    const v = multmv(adj(m), [x4, y4, 1]);\n\n    return multmm(m, [\n      v[0], 0, 0,\n      0, v[1], 0,\n      0, 0, v[2]\n    ]);\n  }\n);\n\ntype General2DProjection = (\n  x1s: number, y1s: number, x1d: number, y1d: number,\n  x2s: number, y2s: number, x2d: number, y2d: number,\n  x3s: number, y3s: number, x3d: number, y3d: number,\n  x4s: number, y4s: number, x4d: number, y4d: number\n) => Matrix3_3;\n\nconst general2DProjection: General2DProjection = (\n  (\n    x1s, y1s, x1d, y1d,\n    x2s, y2s, x2d, y2d,\n    x3s, y3s, x3d, y3d,\n    x4s, y4s, x4d, y4d\n  ) => {\n    const s = basisToPoints(x1s, y1s, x2s, y2s, x3s, y3s, x4s, y4s);\n    const d = basisToPoints(x1d, y1d, x2d, y2d, x3d, y3d, x4d, y4d);\n    return multmm(d, adj(s));\n  }\n);\n\ntype Transform2d = (\n  (\n    w: number, h: number,\n    x1: number, y1: number,\n    x2: number, y2: number,\n    x3: number, y3: number,\n    x4: number, y4: number,\n  ) => Matrix4_4\n);\n\nexport const transform2d: Transform2d = (\n  (w, h, x1, y1, x2, y2, x3, y3, x4, y4) => {  \n    const t = general2DProjection(\n      0, 0, x1, y1,\n      w, 0, x2, y2,\n      0, h, x3, y3,\n      w, h, x4, y4,\n    );\n  \n    for(let i = 0; i !== 9; ++i) {\n      t[i] = t[i] / t[8];\n    };\n  \n    const matrix: Matrix4_4 = [\n      t[0], t[3], 0, t[6],\n      t[1], t[4], 0, t[7],\n      0,       0, 1,    0,\n      t[2], t[5], 0, t[8]\n    ];\n\n    return matrix;\n  }\n);\n","import { Days, DaysData } from './types';\n\nexport const days: Days = {\n  fHNZeWchkGKUfivVIpFKCcc: () => import('./Demo'),\n  gaHDJBYRASaLbqWkwMvbsXG: () => import('./Day24'),\n  egbwEnoMPzhhXBJVFtbPRPf: () => import('./Day23'),\n  arnPcOYZoBlcnPvwMxyaWAB: () => import('./Day22'),\n  cNZiZqMzbruoGEaLdZukHRE: () => import('./Day21'),\n  fkTkryMTucrSfMJgAMgoKyy: () => import('./Day20'),\n  dRxyCvcYSEHGLzYbaoroBkR: () => import('./Day19'),\n  WDTyERMkvMQgjOfylYJSKQ0: () => import('./Day18'),\n  boBGBeTyndHXQtqmuhSkaqT: () => import('./Day17'),\n  bLhuLNOXkWjFAhijDXwMLpD: () => import('./Day16'),\n  cSgBdyDTqhDlDaZlrCLCOTU: () => import('./Day15'),\n  dRWZcRmwTJmgLMYywqziEyO: () => import('./Day14'),\n  fDzejmzXQGYVITUknsduQzs: () => import('./Day13'),\n  aaeAQIWwTvInTnFLmeZZlEf: () => import('./Day12'),\n  bCHmiuiffKmgjtuEFYXzfSo: () => import('./Day11'),\n  fgJUESWuWJGueeIUKeBPIHw: () => import('./Day10'),\n  aopaQadOXXxQCuTralQvPdy: () => import('./Day09'),\n  bLVuBAZVNTXTREleTsZgiAe: () => import('./Day08'),\n  flfqPRivgpFRSRMlBlbPUqT: () => import('./Day07'),\n  dNRmPNUYRfQByRaWoOYhfWt: () => import('./Day06'),\n  fQBPQtKxBrFtIhsgzCHvRbW: () => import('./Day05'),\n  caIoyQpUbcGNdXQYCjTdOLP: () => import('./Day04'),\n  cbrPCzAJhpEyFTnobdsNCaq: () => import('./Day03'),\n  aiDjqteQNhVBRLiHceCSRIO: () => import('./Day02'),\n  crFoJPqGrYmMsvazSwzYqEC: () => import('./Day01'),\n};\n\nexport const daysData: DaysData = [\n  {\n    __hash: 'fHNZeWchkGKUfivVIpFKCcc',\n    __name: 'Demo',\n    __qrCode: () => import('./Demo/qr-code.png'),\n  },\n  {\n    __hash: 'gaHDJBYRASaLbqWkwMvbsXG',\n    __name: 'Day24',\n    __qrCode: () => import('./Day24/qr-code.png'),\n  },\n  {\n    __hash: 'egbwEnoMPzhhXBJVFtbPRPf',\n    __name: 'Day23',\n    __qrCode: () => import('./Day23/qr-code.png'),\n  },\n  {\n    __hash: 'arnPcOYZoBlcnPvwMxyaWAB',\n    __name: 'Day22',\n    __qrCode: () => import('./Day22/qr-code.png'),\n  },\n  {\n    __hash: 'cNZiZqMzbruoGEaLdZukHRE',\n    __name: 'Day21',\n    __qrCode: () => import('./Day21/qr-code.png'),\n  },\n  {\n    __hash: 'fkTkryMTucrSfMJgAMgoKyy',\n    __name: 'Day20',\n    __qrCode: () => import('./Day20/qr-code.png'),\n  },\n  {\n    __hash: 'dRxyCvcYSEHGLzYbaoroBkR',\n    __name: 'Day19',\n    __qrCode: () => import('./Day19/qr-code.png'),\n  },\n  {\n    __hash: 'WDTyERMkvMQgjOfylYJSKQ0',\n    __name: 'Day18',\n    __qrCode: () => import('./Day18/qr-code.png'),\n  },\n  {\n    __hash: 'boBGBeTyndHXQtqmuhSkaqT',\n    __name: 'Day17',\n    __qrCode: () => import('./Day17/qr-code.png'),\n  },\n  {\n    __hash: 'bLhuLNOXkWjFAhijDXwMLpD',\n    __name: 'Day16',\n    __qrCode: () => import('./Day16/qr-code.png'),\n  },\n  {\n    __hash: 'cSgBdyDTqhDlDaZlrCLCOTU',\n    __name: 'Day15',\n    __qrCode: () => import('./Day15/qr-code.png'),\n  },\n  {\n    __hash: 'dRWZcRmwTJmgLMYywqziEyO',\n    __name: 'Day14',\n    __qrCode: () => import('./Day14/qr-code.png'),\n  },\n  {\n    __hash: 'fDzejmzXQGYVITUknsduQzs',\n    __name: 'Day13',\n    __qrCode: () => import('./Day13/qr-code.png'),\n  },\n  {\n    __hash: 'aaeAQIWwTvInTnFLmeZZlEf',\n    __name: 'Day12',\n    __qrCode: () => import('./Day12/qr-code.png'),\n  },\n  {\n    __hash: 'bCHmiuiffKmgjtuEFYXzfSo',\n    __name: 'Day11',\n    __qrCode: () => import('./Day11/qr-code.png'),\n  },\n  {\n    __hash: 'fgJUESWuWJGueeIUKeBPIHw',\n    __name: 'Day10',\n    __qrCode: () => import('./Day10/qr-code.png'),\n  },\n  {\n    __hash: 'aopaQadOXXxQCuTralQvPdy',\n    __name: 'Day09',\n    __qrCode: () => import('./Day09/qr-code.png'),\n  },\n  {\n    __hash: 'bLVuBAZVNTXTREleTsZgiAe',\n    __name: 'Day08',\n    __qrCode: () => import('./Day08/qr-code.png'),\n  },\n  {\n    __hash: 'flfqPRivgpFRSRMlBlbPUqT',\n    __name: 'Day07',\n    __qrCode: () => import('./Day07/qr-code.png'),\n  },\n  {\n    __hash: 'dNRmPNUYRfQByRaWoOYhfWt',\n    __name: 'Day06',\n    __qrCode: () => import('./Day06/qr-code.png'),\n  },\n  {\n    __hash: 'fQBPQtKxBrFtIhsgzCHvRbW',\n    __name: 'Day05',\n    __qrCode: () => import('./Day05/qr-code.png'),\n  },\n  {\n    __hash: 'caIoyQpUbcGNdXQYCjTdOLP',\n    __name: 'Day04',\n    __qrCode: () => import('./Day04/qr-code.png'),\n  },\n  {\n    __hash: 'cbrPCzAJhpEyFTnobdsNCaq',\n    __name: 'Day03',\n    __qrCode: () => import('./Day03/qr-code.png'),\n  },\n  {\n    __hash: 'aiDjqteQNhVBRLiHceCSRIO',\n    __name: 'Day02',\n    __qrCode: () => import('./Day02/qr-code.png'),\n  },\n  {\n    __hash: 'crFoJPqGrYmMsvazSwzYqEC',\n    __name: 'Day01',\n    __qrCode: () => import('./Day01/qr-code.png'),\n  },\n];\n","export default __webpack_public_path__ + \"static/media/frame_000.024234b0.jpg\";","export default __webpack_public_path__ + \"static/media/frame_001.a106473a.jpg\";","export default __webpack_public_path__ + \"static/media/frame_002.1e45e5c9.jpg\";","export default __webpack_public_path__ + \"static/media/frame_003.d31024dc.jpg\";","export default __webpack_public_path__ + \"static/media/frame_004.3f30877c.jpg\";","export default __webpack_public_path__ + \"static/media/frame_005.b6036a9c.jpg\";","export default __webpack_public_path__ + \"static/media/frame_006.695659ef.jpg\";","export default __webpack_public_path__ + \"static/media/frame_007.9189023f.jpg\";","export default __webpack_public_path__ + \"static/media/frame_008.2876c6e8.jpg\";","import { Day } from \"../types\";\nimport { loadImage } from \"../helper\";\n\nimport eJsKUTRcYSEFfABxBJrzKKe from './frames/frame_000.jpg';\nimport fjDvshmAAVOOTRvytkckAkN from './frames/frame_001.jpg';\nimport dyTQucXIPtHdBvmOnYBiKIY from './frames/frame_002.jpg';\nimport fyygFoXLlHJQreuoXZuNDhe from './frames/frame_003.jpg';\nimport vcTESVVbbPgeVyPxyEdnaA0 from './frames/frame_004.jpg';\nimport eSccGUyFGTpwJpNPfQUBnUL from './frames/frame_005.jpg';\nimport cbRUgnbjsZINRtRKOheHqOZ from './frames/frame_006.jpg';\nimport dLZzKoXJhsWJSUYjRVVGaYr from './frames/frame_007.jpg';\nimport dPnajTNsSFWYIZPtpwSbWnG from './frames/frame_008.jpg';\n\nexport default class Loading extends Day {\n  public static framesPromises = [\n    loadImage(eJsKUTRcYSEFfABxBJrzKKe),\n    loadImage(fjDvshmAAVOOTRvytkckAkN),\n    loadImage(dyTQucXIPtHdBvmOnYBiKIY),\n    loadImage(fyygFoXLlHJQreuoXZuNDhe),\n    loadImage(vcTESVVbbPgeVyPxyEdnaA0),\n    loadImage(eSccGUyFGTpwJpNPfQUBnUL),\n    loadImage(cbRUgnbjsZINRtRKOheHqOZ),\n    loadImage(dLZzKoXJhsWJSUYjRVVGaYr),\n    loadImage(dPnajTNsSFWYIZPtpwSbWnG),\n  ];\n\n  private static frames: HTMLImageElement[];\n  private static currentFrame: number = 0;\n\n  private static fps = 1000 / 20;\n  private static last = 0;\n\n  public static async init() {\n    if (Loading.frames === undefined) {\n      await Loading.loadFrames();\n    }\n  }\n\n  private static async loadFrames() {\n    Loading.frames = await Promise.all(Loading.framesPromises);\n  }\n\n  public static getFrame() {    \n    const now = Date.now();\n    const elapsed = now - Loading.last;\n\n    if (elapsed >= Loading.fps) {\n      Loading.last = now;\n      Loading.currentFrame = (Loading.currentFrame + 1) % Loading.frames.length;\n    }\n\n    return Loading.frames[Loading.currentFrame];\n  }\n}\n","import { RefObject, useEffect, useState } from \"react\";\n\nimport { coverFit, roundedRectangle } from \"./helper\";\nimport { transform2d } from \"./matrix\";\n\nimport { days } from 'src/days';\nimport Loading from 'src/days/Loading'\n\nimport { Day, DayImport } from 'src/days/types';\n\n// eslint-disable-next-line import/no-webpack-loader-syntax\nimport createScanWorker from \"workerize-loader!./scan.worker\";\nimport type * as ScanWorker from \"./scan.worker\";\nimport type { Symbol } from \"zbar.wasm\";\n\nimport \"webrtc-adapter\";\n\ntype BindProps = {\n  canvasVideo: HTMLCanvasElement;\n  canvasOverlay: HTMLCanvasElement;\n  setDay: React.Dispatch<React.SetStateAction<typeof Day | null>>;\n};\n\nclass Scanner {\n  private static scanWorker = createScanWorker<typeof ScanWorker>();\n  private static video = document.createElement(\"video\");\n\n  private static getStream?: Promise<MediaStream>;\n  private static stream?: MediaStream;\n\n  private static contextVideo?: CanvasRenderingContext2D;\n  private static contextOverlay?: CanvasRenderingContext2D;\n\n  private static fpsVideo = 1000 / 30;\n  private static fpsScanner = 1000 / 10;\n\n  private static thenVideo = Date.now();\n  private static thenScanner = Date.now();\n\n  private static stopped = true;\n  private static symbol?: Symbol;\n\n  private static currentDay?: typeof Day;\n  private static currentDayImport?: () => DayImport;\n  private static setDay?: React.Dispatch<React.SetStateAction<typeof Day | null>>;\n\n  static async start() {\n    const canvas = document.createElement('canvas');\n    const context = canvas.getContext('2d');\n    if (context === null) return;\n\n    await Loading.init();\n\n    Scanner.stopped = false;    \n    Scanner.getStream = navigator.mediaDevices.getUserMedia({\n      video: { facingMode: { ideal: \"environment\" } },\n      audio: false\n    });\n\n    Scanner.stream = await Scanner.getStream;\n    Scanner.video.srcObject = Scanner.stream;\n    Scanner.video.play();\n\n    window.addEventListener(\"resize\", Scanner.resize);\n\n    Scanner.drawVideo();\n    Scanner.scan();\n  }\n\n  static async stop() {\n    window.removeEventListener(\"resize\", Scanner.resize);\n    Scanner.stopped = true;    \n\n    await Scanner.getStream;\n    Scanner.stream?.getTracks().forEach((t) => t.stop());\n\n    Scanner.currentDay = undefined;\n    Scanner.currentDayImport = undefined;\n    Scanner.setDay = undefined;\n    Scanner.symbol = undefined;\n    Scanner.stream = undefined;\n  }\n\n  private static drawVideo() {\n    if (Scanner.stopped) return;\n\n    const now = Date.now();\n    const elapsed = now - Scanner.thenVideo;\n\n    requestAnimationFrame(Scanner.drawVideo);\n    if (elapsed < Scanner.fpsVideo) return;\n    if (Scanner.contextVideo === undefined) return;\n    if (Scanner.contextOverlay === undefined) return;\n\n    Scanner.thenVideo = Date.now();\n\n    {\n      const { x, y, w, h } = coverFit(\n        Scanner.video.videoWidth,\n        Scanner.video.videoHeight,\n        Scanner.contextVideo.canvas.width,\n        Scanner.contextVideo.canvas.height,\n      );\n  \n      Scanner.contextVideo.drawImage(Scanner.video, x, y, w, h);\n    }\n\n    const scanX = (Scanner.contextVideo.canvas.width - 300) / 2;\n    const scanY = (Scanner.contextVideo.canvas.height - 300) / 2;\n\n    Scanner.contextVideo.strokeStyle = \"#d4c7d9\";\n    Scanner.contextVideo.lineWidth = 6;\n    Scanner.contextVideo.beginPath();\n\n    roundedRectangle(\n      Scanner.contextVideo, {\n      h: 300,\n      w: 300,\n      r: 15,\n      x: scanX,\n      y: scanY,\n    });\n\n    Scanner.contextVideo.stroke();\n\n    if (Scanner.symbol) {\n      const [a, b, c, d] = [...Scanner.symbol.points].map(\n        (p) => ({\n          x: p.x + scanX,\n          y: p.y + scanY\n        })\n      );\n\n      const caW = Scanner.contextOverlay.canvas.width;\n      const caH = Scanner.contextOverlay.canvas.height;\n\n      const matrix = transform2d(\n        caW, caH,\n        a.x, a.y,\n        d.x, d.y,\n        b.x, b.y,\n        c.x, c.y,\n      );\n  \n      Scanner.contextOverlay.canvas.style.opacity = '1';\n      Scanner.contextOverlay.canvas.style.transform = `matrix3d(${matrix.join(', ')})`;\n\n      if (Scanner.currentDay) {\n        const frame = Scanner.currentDay.getFrame();\n        const { x, y, w, h } = coverFit(\n          frame.width,\n          frame.height,\n          Scanner.contextOverlay.canvas.width,\n          Scanner.contextOverlay.canvas.height,\n        );      \n    \n        Scanner.contextOverlay.drawImage(frame, x, y, w, h);  \n      }\n    } else {\n      Scanner.contextOverlay.canvas.style.opacity = '0';\n    }\n  }\n\n  private static resize() {\n    if (Scanner.contextVideo === undefined) return;\n    if (Scanner.contextOverlay === undefined) return;\n\n    Scanner.contextVideo.canvas.width = window.innerWidth;\n    Scanner.contextVideo.canvas.height = window.innerHeight;\n    Scanner.contextOverlay.canvas.width = 300;\n    Scanner.contextOverlay.canvas.height = 300;\n  }\n\n  public static bind(props: BindProps) {\n    const contextVideo = props.canvasVideo.getContext(\"2d\");\n    const contextOverlay = props.canvasOverlay.getContext(\"2d\");\n    if (contextVideo === null) throw new Error(\"contextVideo is null\");\n    if (contextOverlay === null) throw new Error(\"contextOverlay is null\");\n\n    Scanner.setDay = props.setDay;\n    Scanner.contextVideo = contextVideo;\n    Scanner.contextOverlay = contextOverlay;\n    Scanner.resize();\n  }\n\n  public static async scan() {\n    let failCounter = 0;\n\n    const decoder = new TextDecoder();\n    const updateDay = (symbol: Symbol) => {\n      const dataString = decoder.decode(symbol.data);\n      const newDayImport = days[dataString];\n\n      const isNewDay = (\n        typeof newDayImport !== \"undefined\"\n        && Scanner.currentDayImport !== newDayImport\n        && Scanner.currentDay !== Loading\n      );\n\n      Scanner.symbol = symbol;\n\n      if (isNewDay) {\n        Scanner.currentDay = Loading;\n        Scanner.currentDayImport = newDayImport;\n\n        newDayImport()\n          .then(\n            async (dayImport) => {\n              const NewDay = dayImport.default;\n\n              await NewDay.init();\n              await sleep(500); \n\n              if (Scanner.setDay) {\n                Scanner.currentDay = NewDay;\n                Scanner.setDay(() => NewDay);\n              }\n            }\n          );\n      }\n\n      failCounter = 0;\n    }\n\n    const resetDay = () => {\n      if (failCounter >= 5) {\n        if (Scanner.setDay) {\n          Scanner.currentDayImport = undefined;\n          Scanner.currentDay = undefined;\n          Scanner.setDay(null);\n        }\n        \n        Scanner.symbol = undefined;\n      }\n\n      failCounter++;\n    }\n\n    const doScan = async () => {\n      if (Scanner.stopped) return;\n\n      const now = Date.now();\n      const elapsed = now - Scanner.thenScanner;\n    \n      if (elapsed < Scanner.fpsScanner) return requestAnimationFrame(doScan);\n      if (Scanner.contextVideo === undefined) return requestAnimationFrame(doScan);\n\n      Scanner.thenScanner = Date.now();\n\n      const canvas = Scanner.contextVideo.canvas;\n\n      const scanX = (canvas.width - 300) / 2;\n      const scanY = (canvas.height - 300) / 2;\n      const scanImage = Scanner.contextVideo.getImageData(scanX, scanY, 300, 300);\n      const symbols = await Scanner.scanWorker.scan(scanImage);\n\n      if (symbols.length === 1) {\n        const [symbol] = symbols;\n        updateDay(symbol);\n      } else {\n        resetDay();\n      }\n\n      requestAnimationFrame(doScan);\n    }\n\n    doScan();\n  }\n}\n\nconst sleep = (ms: number): Promise<void> => (\n  new Promise((resolve) => setTimeout(resolve, ms))\n);\n\ntype CanvasRef = RefObject<HTMLCanvasElement>;\n\nexport default (\n  function useScanner(canvasVideo: CanvasRef, canvasOverlay: CanvasRef) {\n    const [day, setDay] = useState<typeof Day | null>(null);\n\n    useEffect(() => {\n      if (canvasVideo.current === null) return;\n      if (canvasOverlay.current === null) return;\n  \n      Scanner.start();\n      Scanner.bind({\n        canvasVideo: canvasVideo.current,\n        canvasOverlay: canvasOverlay.current,\n        setDay: setDay,\n      });\n  \n      return () => {\n        Scanner.stop();\n      }\n    }, [canvasVideo, canvasOverlay]);\n  \n    return day;\n  }\n);\n","import { css } from '@emotion/css';\nimport React, { useRef } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport useScanner from 'src/lib/scanner';\n\nfunction Scanner() {\n  const history = useHistory();\n  const canvasVideoRef = useRef<HTMLCanvasElement>(null);\n  const canvasOverlayRef = useRef<HTMLCanvasElement>(null);\n  \n  const Day = useScanner(canvasVideoRef, canvasOverlayRef);\n\n  const openDay = () => {\n    if (Day !== null) {\n      history.push(`/open/${Day.__hash}`);\n    }\n  };\n\n  return (\n    <>\n      <div className={styleClicker} onClick={openDay} />\n  \n      <canvas className={styleCanvasVideo} ref={canvasVideoRef} />\n      <canvas className={styleCanvasOverlay} ref={canvasOverlayRef} />\n    </>\n  );\n}\n\nconst styleCanvasVideo = css`\n  position: absolute;\n  z-index: 1;\n`;\n\nconst styleCanvasOverlay = css`\n  position: absolute;\n  transform-origin: 0 0;\n  z-index: 2;\n`;\n\nconst styleClicker = css`\n  position: absolute;\n\n  width: 100vw;\n  width: calc(var(--vw, 1vw) * 100);\n  height: 100vh;\n  height: calc(var(--vh, 1vh) * 100);\n\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n\n  z-index: 3;\n`;\n\nexport default Scanner;\n","import { css } from '@emotion/css';\nimport React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { daysData } from 'src/days';\nimport { DayData } from 'src/days/types';\n\nfunction RenderDay({ dayData }: { dayData: DayData }) {\n  const [qrCodeUri, setQrCodeUri] = useState<string>();\n\n  useEffect(() => {\n    dayData\n      .__qrCode()\n      .then(({ default: codeUri }) => setQrCodeUri(codeUri))\n  }, [dayData]);\n\n  return (\n    <Link to={`/open/${dayData.__hash}`}>\n      <img src={qrCodeUri} alt=\"qr-code\" />\n      <code>{ dayData.__name }</code>\n    </Link>\n  );\n}\n\nfunction Codes() {\n  return (\n    <div className={styleDayssContainer}>\n      { daysData.map((dayData) => <RenderDay key={dayData.__hash} dayData={dayData} />) }\n    </div>\n  );\n}\n\nconst styleDayssContainer = css`\n  position: relative;\n  float: left;\n\n  width: 100%;\n  min-width: 100%;\n  max-width: 100%;\n\n  a {\n    position: relative;\n    float: left;\n\n    width: 33.33%;\n    min-width: 33.33%;\n    max-width: 33.33%;\n\n    border: 2.5px solid black;\n    box-sizing: border-box;\n\n    break-inside: avoid;\n\n    code, span {\n      font-size: 2vw;\n\n      display: block;\n      width: 100%;\n      text-align: center;\n      border-top: 2px solid black;\n    }\n\n    img {\n      max-width:100%;\n    }\n\n    @media (max-width: 380px) {\n      width: 100%;\n      min-width: 100%;\n      max-width: 100%;\n\n      code, span {\n        font-size: 6vw;\n      }\n    }\n\n    @media (min-width: 380px) and (max-width: 620px) {\n      width: 50%;\n      min-width: 50%;\n      max-width: 50%;\n\n      code, span {\n        font-size: 3vw;\n      }\n    }\n  }\n`;\n\nexport default Codes;\n","import { css } from '@emotion/css';\nimport React, { useEffect, useState } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\n\nimport { days } from 'src/days';\n\nfunction Open() {\n  const history = useHistory();\n  const [content, setContent] = useState<string>();\n\n  const { day } = useParams<{ day: string }>();\n  const loadDay = days[day];\n\n  useEffect(() => {\n    loadDay()\n      .then(async ({ default: $Day }) => {\n        const content = await $Day.__content();\n        setContent(content);\n      })\n  }, [loadDay]);\n\n  return (\n    <div className={styleDaysContainer}>\n      <span className={styleBackLink} onClick={history.goBack}>\n        Zurück\n      </span>\n\n      <div className={styleOverlayLeft} />\n      <div className={styleOverlayRight} />\n\n      <div className={styleContentContainer}>\n        <div\n          className={styleContent}\n          dangerouslySetInnerHTML={{\n            __html: content ?? '<h3>Lädt ..</h3>',\n          }}\n        />\n      </div>\n    </div>\n  );\n}\n\nconst styleOverlay = css`\n  position: absolute;\n  top: 0;\n  height: 100%;\n  width: 20px;\n  z-index: 2;\n`;\n\nconst styleOverlayLeft = css`\n  ${styleOverlay}\n\n  left: 0;\n  background: linear-gradient(90deg, rgba(184, 170, 189, 1) 0%, rgba(184, 170, 189, 0) 100%);\n`;\n\nconst styleOverlayRight = css`\n  ${styleOverlay}\n\n  right: 0;\n  background: linear-gradient(270deg, rgba(184, 170, 189, 1) 0%, rgba(184, 170, 189, 0) 100%);\n`;\n\nconst styleDaysContainer = css`\n  position: relative;\n\n  width: 100%;\n  height: 100%;\n\n  padding: 20px 0;\n  box-sizing: border-box;\n\n  font-size: 24px;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n`;\n\nconst styleBackLink = css`\n  flex: 0 1 auto;\n  position: relative;\n  display: inline-block;\n  color: #d4c7d9;\n  background-color: #543a5f;\n  padding: 2px 5px;\n  border-radius: 4px;\n  font-weight: bold;\n  text-decoration: none;\n  user-select: none;\n  cursor: pointer;\n  margin-bottom: 20px;\n  margin-left: 20px;\n`;\n\nconst styleContentContainer = css`\n  max-width: 100%;\n  box-sizing: border-box;\n  flex: 1 1 auto;\n  white-space: nowrap;\n  overflow: scroll;\n  position: relative;\n`;\n\nconst styleContent = css`\n  padding-left: 20px;\n  padding-right: 20px;\n  box-sizing: border-box;\n  display: inline-block;\n  position: relative;\n  white-space: nowrap;\n\n  & > :first-child {\n    margin-block-start: 0em;\n  }\n\n  & blockquote {\n    border-left: 3px solid #947f9c;\n    padding-inline-start: 20px;\n    margin-inline-start: 10px;\n  }\n`;\n\nexport default Open;\n","import React, { useEffect } from 'react';\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\";\n\nimport Scanner from 'src/views/Scanner';\nimport Codes from 'src/views/Codes';\nimport Open from 'src/views/Open';\n\nconst fixVxDimensions = () => {  \n  const vw = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0) / 100;\n  const vh = Math.max(document.documentElement.clientHeight || 0, window.innerHeight || 0) / 100;\n    \n  document.documentElement.style.setProperty('--vh', `${vh}px`);\n  document.documentElement.style.setProperty('--vw', `${vw}px`);  \n};\n\nfunction App() {\n  useEffect(() => {\n    fixVxDimensions();\n    window.addEventListener('load', fixVxDimensions);\n    window.addEventListener('resize', fixVxDimensions);\n    window.addEventListener('orientationchange', fixVxDimensions);\n\n    return () => {\n      window.removeEventListener('load', fixVxDimensions);\n      window.removeEventListener('resize', fixVxDimensions);\n      window.removeEventListener('orientationchange', fixVxDimensions);\n    };\n  }, []);\n\n  return (\n    <Router basename=\"/\">\n      <Switch>\n        <Route path=\"/codes\" component={Codes} />\n        <Route path=\"/open/:day\" component={Open} />\n        <Route path=\"/\" component={Scanner} />\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}